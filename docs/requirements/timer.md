# タイマー機能　要求仕様書

## 1.概要

以下に示す機能とデザインを持つタイマーアプリを作成する。
本タイマーアプリはブラウザ上で動作し、ユーザーが設定した時間でカウントダウンを実行する。
また、指定時間に達した際、ユーザーへ通知を行う。

## 2.目的

-  ユーザーが時間を気にすることなく、集中して作業が出来ること。
-  ユーザーが画面を見続ける負担を無くし、時間管理をサポートすること。

## 3.用語集

-  カウントダウン：設定した時間から 0 に向かって 1 秒ごとに減少していく動作。
-  残り時間：カウント中の0までに残っている時間のこと。
-  終了音：残り時間が 0 になったときに鳴る通知音。
-  停止ボタン：終了音を止めるためのボタン。

## 4.対象環境

-  使用言語:TypeScript
-  使用ツール:Vite,VSCode
-  動作環境:GoogleChrome最新版,MicrosoftEdge最新版


## 5.画面仕様　※要求仕様書擦り合わせ後、デザイン部分が確定する

### 5.1 表示要素

-  時間選択エリア（時間／分／秒）

-  残り時間表示エリア

-  開始ボタン

-  一時停止ボタン

-  再開ボタン

-  リセットボタン

-  停止ボタン(終了音が鳴っている時のみ表示)

### 5.2 デザイン　※未定

## 6. 機能仕様

### 6.1 時間設定機能
-  ユーザーは時間、分、秒をそれぞれ選択して設定出来る。
-  設定できる範囲は、時間0〜23、分0〜59、秒0〜59。
-  最大設定時間は23:59:59。
-  設定時間が0の場合、開始ボタンは無効とする。

### 6.2 開始機能
-  開始ボタン押下後、設定した時間を画面に表示し、1秒ごとに残り時間を減少させる。
-  開始ボタン押下後、300ms以内にカウントダウンを開始する。
-  カウントダウンは実時間に対して 1 秒以内の誤差で進行する。
-  ページを再読み込みした場合、設定した時間やカウントの進行状況はすべてリセットされる。

### 6.3 一時停止機能
-  一時停止ボタン押下後、押した時点での残り時間を保持し、カウントダウンを停止する。
-  再開ボタン押下後、一時停止時に保持した残り時間からカウントダウンを再開する。
-  カウントダウン中は、一時停止操作が行われない限り継続して動作する。
-  一時停止 → 再開 の操作後も、表示される残り時間は一時停止時点と一致する。

### 6.4 リセット機能
-  カウント中または一時停止中にリセットボタンを押すと、設定していた時間に戻る。
-  リセット後はカウントダウンを行わず、開始前の状態となる。
-  タイマー終了後（00:00:00表示時）にリセットを押した場合も、設定していた時間に戻る。
-  終了音が鳴っている場合、リセット押下と同時に停止する。
-  リセットボタンは、時間が設定されている場合のみ押下出来る。

### 6.5 終了通知機能
-  タイマーの残り時間が0になると、終了音を再生し、画面には「00:00:00」を表示する。
-  終了後は、ユーザーに終了を知らせるメッセージ（例:「タイマーが終了しました」）を画面に表示する。
-  終了音は「停止」ボタンを押すまで再生され続ける。
-  タイマーで設定した時間が経過すると、停止ボタンを押すまで音が鳴り続ける。
-  停止ボタンが30秒以内に押されない場合、自動的に終了音を停止する。
-  端末の音量が 0、またはマナーモードの場合、終了音は再生されない。

### 6.6 表示機能
-  残り時間は画面上に表示し、「時間・分・秒（hh:mm:ss）」形式で表す。
-  カウント中は、1秒ごとに残り時間を更新して表示する。
-  一時停止中は、一時停止した時点の残り時間を表示し続ける。
-  残り時間が0になった場合は「00:00:00」を表示する。

### 6.7 エラー処理
-  無効な状態で開始ボタンを押下した場合（例：設定時間が 0 の場合）は、エラーとして扱う。
-  エラー発生時は、画面に「エラー」と表示し、カウントダウンは行わない。
-  エラー表示中は、タイマーは開始されず、時間設定をやり直すまで操作できない。

## 7.操作フロー
### 7.1 基本フロー
-  1.時間を設定する
-  2.開始ボタンを押す
-  3.カウントダウンが進む
-  4.残り時間が0になる
-  5.終了音が鳴り、終了メッセージが表示される
-  6.停止ボタンで終了音を止める

### 7.2 分岐フロー
-  カウントダウン中に一時停止ボタンを押すと、カウントが停止する
-  再開ボタンを押すと、一時停止時点からカウントダウンを再開する

## 8.制約事項

-  タブを切り替えたり、PC がスリープ状態になった場合、タイマーのカウントダウンは停止する。
-  本アプリでは、同時に複数のタイマーを動作させることはできない。







